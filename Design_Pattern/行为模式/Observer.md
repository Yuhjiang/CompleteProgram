# 观察者模式

## 通知方式

### 拉模式
- 每当发生变化，都会向所有已经注册的观察者进行广播
- 出现变化时，由观察者负责获取变化情况
- 拉模式效率低，涉及两步：1、主题通知所有观察者；2、观察者从主题里提取所需信息

### 推模式
- 变化由主题推送到观察者
- 拉模式中，主题可以向观察者发送详细信息，发送大量不需要的信息时，响应时间会变长
- 可以选定数据从主题发送到观察者，性能高

## 优缺点
### 优点
- 彼此交互的对象保持松耦合
- 无需对主题或观察者进行修改的情况下发送数据
- 随时添加/删除观察者

### 缺点
- 观察者接口必须由具体观察者实现，涉及继承，无法组合
- 实现不当的情况下，观察者会增加复杂性，导致性能降低
- 通知有时是不可靠的，并导致竞争条件或不一致性