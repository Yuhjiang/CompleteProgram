# Python语言豆知识
何谓豆知识，就是一些奇怪的小知识点，不怎么常见，但是很有趣的特性

## pyc和py文件的不同之处

两种文件均保存字节代码，但是pyc是python文件的编译版本，与平台无关的代码，因此可以在任何支持pyc的平台上运行，Python会自动生成pyc文件（优化加载速度，而不是运行速度）

## Python什么叫做自省 
- 自省能力是指：检查某些事物以确定他是什么，能做什么，知道什么。Python能够在运行中，获得对象的类型。
- 例如：type(), dir(), getattr(), hasattr(), isinstance()

## _和_name和__name和__name__的区别
- `_`代表上一条执行语句的结果。也可以用在特殊的临时变量
- `_name`单下划线指定属性和方法是私有的，不建议在外部调用但不能阻止。在`from <module> import *`时不会被导入
- `name_`后置下划线适合用于名称被Python语言中的关键字占用
- `__name`双下划线，会让Python重写属性名称，避免子类中的命名冲突。调用的时候，要用`instance._Class__name`。可以避免子类的方法覆盖父类的方法
- `__name__`内部的魔法方法，可以在类中重写这些方法

## 什么是闭包
- 内部函数可以引用外部函数的参数和局部变量，当外部函数返回内部函数时，相关参数和变量存在返回的函数中，这种特性被称为闭包。
- 闭包外部函数的参数可以在内存中保持
- 闭包是两个函数的嵌套，外部函数的返回值必须是内嵌函数

## 如何判断是函数还是方法
- `isinstance(obj.func, FunctionType) & isinstance(obj.func, MethodType)`
- 函数的情况：用类去调用，并需要传入self参数。
- 方法的情况：用实例去调用，不需要传入self参数
```python
class Foo:
    def __init__(self):
        self.name = 'ok'
        
    def func(self):
        return self.name

    foo = Foo()
    foo.func()  # 方法
    Foo.func(foo)   # 函数
```

## `__name__`属性的作用什么
一个模块被另一个程序第一次导入时，主程序会全部运行。如果想在模块被引入时，某一块程序不执行，可以使用`__name__`属性使程序块仅在模块自身运行时运行。`__name__`其值是`__main__`时，表明该模块自身执行，否则是被引入时执行。